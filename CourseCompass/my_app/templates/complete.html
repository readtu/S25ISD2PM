{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
		<meta charset="UTF-8">
		<!-- Use the static tag to load CSS files -->
		<link rel="stylesheet" href="{% static 'styles.css' %}">
		<link rel="stylesheet" href="{% static 'css/complete.css' %}">
		<title>Completed - Hammer</title>
	</head>
	<body>
		<div class="background"></div>
		<nav class="navbar">
			<div class="nav-left">
				<!-- Use the url tag for dynamic URL reversing (adjust the URL name as defined in your urls.py) -->
				<a href="{% url 'home' %}" class="logo">Hammer</a>
				<div class="dropdown">
					<button class="dropbtn">Catalog</button>
					<div class="dropdown-content">
						<a href="{% url 'catalog' %}">Catalog</a>
					</div>
				</div>
				<div class="dropdown">
					<button class="dropbtn">Tasks</button>
					<div class="dropdown-content">
						<a href="{% url 'to-do' %}">To-Do</a>
						<a href="{% url 'complete' %}">Complete</a>
					</div>
				</div>
			</div>
			<div class="profile-container">
				<div class="profile-icon">
					<img src="{% static 'images/profile_image.jpg' %}" alt="Profile" style="width:60px;height:60px;">
				</div>
				<div class="profile-dropdown">
					<!-- Update these URLs to use dynamic URL resolution -->
					<a href="{% url 'profile_page' %}">Profile</a>
					<a href="{% url 'settings' %}">Settings</a>
					<a href="{% url 'login' %}">Logout</a>
				</div>
			</div>
		</nav>
		<header>
			<h1>COMPLETED</h1>
		</header>
		<div class="container">
			<h2>Approved List</h2>
			<ul id="approved-tasks" class="task-list"></ul>
		</div>
		<!-- It's a good idea to include your scripts just before the closing body tag -->
		<script>
		document.addEventListener("DOMContentLoaded", function () {
			let approvedTasks = JSON.parse(localStorage.getItem("approvedTasks")) || [];
			let approvedList = document.getElementById("approved-tasks");

			approvedTasks.forEach(task => {
				let li = document.createElement("li");
				li.textContent = task;
				li.classList.add("task-item");
				approvedList.appendChild(li);
			});
		});
		</script>
	</body>
</html>
